{% extends 'maintimeline/base.html' %}
{% load static %}
     <title>History of Chrisian Views towards Homosexuality</title>
{% block content %}

<style>

.event:nth-child(2) {
    position:absolute;
    left:20%;
    top:0%;
    width:350px;
    height:100%;
}

.event:nth-child(3) {
    position: absolute;
    right:20%;
    bottom:5%;
    width:350px;
}

.item{
  height:97vh;
  width:100vw;
  text-align:center;
}

div.fixed {
    position: absolute;
    bottom: 55%;
    height:2px;
    right: 0;
    width: 100%;
    background-color:black;
}
.v1 {
  position: absolute;
    bottom: 55%;
    height:30px;
    left: 30%;
    border-left: 6px solid black;
  }

  .v2 {
  position: absolute;
    top: 5%;
    height:30px;
    right: 33%;
    border-left: 6px solid black;
  }


</style>

<div style="min-height:100vh">
<!-- ATTEMPT WITH PURE CSS -->


<!--ACTUAL WORKING WITH BOOTSTRAP CAROUSEL -->

  <div class="carouselinfinite">

      <div class="carousel-item item vertical-center active">
<div class="fixed">
<div class="v1"></div>
<div class="v2"></div>
</div>
        {% for event in object_list %}
        <div class="row event" style="height:40vh; text-align:center">
<h1>{{ event.headline }}</h1>
{% if event.year < 0 %}
<date>{{ event.year|stringformat:"s"|slice:"1:" }} BCE</date>
{% endif %}

{% if event.year > 0 %}
        <date>{{ event.year }}</date>
    {% endif %}
       <div style="width:100%; height:50px; text-align:center">
        <img height="50px" width="auto" src="https://barbaradonnini.com/homosexualitytimeline/{{ event.image_url|default_if_none:'#' }}" />
      </div>
        <!-- <img src="{{ event.image1.url }}"/> -->
        <p class="more" style="width:100%">{{ event.description|slice:":70" }} <a href="/maintimeline/{{ event.id }}">... Read More >></a></p>
        </div>
        {% if forloop.counter|divisibleby:2 %}
        </div>
        <div class="carousel-item item vertical-center">
<div class="fixed">
<div class="v1"></div>
<div class="v2"></div>
</div>
           {% endif %}
      {% endfor %}
      </div>

    </div>


    <!-- Left and right controls -->
    <!--<a class="left carousel-control" href="#myCarousel" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right"></span>
      <span class="sr-only">Next</span>
    </a>-->
  </div>


<!-- these are the lines for the timeline -->

<!-- FOR LOOP FOR ACTUAL DATA -->
<!--   {% for event in object_list %}
    <div class="event" style="height:50vh">
        <h1>{{ event.headline }}</h1>
        <p>{{ event.date }}</p>
</div>
    {# if the the forloop counter is divisible by 4, close the <li> tag and open a new one #}
    {% if forloop.counter|divisibleby:2 %}
</div>
</div>

          <div class="item">
          	<div class="carousel-content">

    {% endif %}

    {% endfor %}

</div>

<div class="row">
<h1>Text</h1>
<h2>Text</h2>
<h3>Text</h3>
<h4>Text</h4>
<h5>Text</h5>
<h6>Text</h6>
<date>Text</date>
<p>Text</p>

</div>-->
<script>
$(document).ready(function() {
  var showChar = 100;
  var moretext = "more";
  $('.more').each(function() {
    var content = $(this).html();

    if(content.length > showChar) {

      var c = content.substr(0, showChar);
      var h = content.substr(showChar-1, content.length - showChar);

      var html = c + '<span class="moreelipses">'+ellipsestext+'</span>&nbsp;<span class="morecontent"><span>' + h + '</span>&nbsp;&nbsp;<a href="/maintimeline/{{ event.id }}" class="morelink">'+moretext+'</a></span>';

      $(this).html(html);
    }

  });

});
</script>


{% endblock %}