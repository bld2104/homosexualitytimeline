{% extends 'maintimeline/base.html' %}
{% load static %}
     <title>History of Chrisian Views towards Homosexuality</title>
{% block content %}
<style>

.eventinfinite:nth-child(2) {
    position:absolute;
    left:10%;
    top:5%;
    width:550px;
    height:100%;
}

.eventinfinite:nth-child(3) {
    position: absolute;
    right:10%;
    bottom:5%;
    width:550px;
}

.iteminfinite{
  height:97vh;
  width:100vw;
  text-align:center;
}

.slick-slide img{
  text-align:center;
  margin: 0 auto;
}

div.fixed {
    position: absolute;
    bottom: 55%;
    height:2px;
    right: 0;
    width: 100%;
    background-color:black;
}
.v1infinite {
  position: absolute;
    bottom: 55%;
    height:30px;
    left: 23%;
    border-left: 6px solid black;
  }

  .v2infinite {
  position: absolute;
    top: 5%;
    height:30px;
    right: 25%;
    border-left: 6px solid black;
  }


</style>
<div class="hidden-lg hidden-md">
  <div style="min-height:100vh">
  <div style="height:50px"></div>
  <div class="container">
<div class="row" style="border-radius:15px; background-color: #028090; padding:15px">
<p style="color:white">This timeline is not yet optimized for mobile devices. Please view it on a desktop or laptop computer.</p>
</div>
</div>
</div>
</div>
<div class="hidden-sm hidden-xs">
<div style="min-height:100vh">
<!-- ATTEMPT WITH PURE CSS -->


<!--ACTUAL WORKING WITH BOOTSTRAP CAROUSEL -->

  <div class="carouselinfinite">

      <div class="carousel-item iteminfinite vertical-center active">
<div class="fixed">
<div class="v1infinite"></div>
<div class="v2infinite"></div>
</div>
        {% for event in object_list %}
        <div class="row eventinfinite" style="height:40vh; text-align:center">
<div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
  <a href="/maintimeline/{{ event.id }}"><h1>{{ event.headline }}</h1></a>
{% if event.year < 0 %}
<date>{{ event.year|stringformat:"s"|slice:"1:" }} BCE</date>
{% endif %}

{% if event.year > 0 %}
        <date>{{ event.year }}</date>
    {% endif %}
       
        <!-- <img src="{{ event.image1.url }}"/> -->
        <p class="more" style="width:100%">{{ event.description|slice:":70" }} <a href="/maintimeline/{{ event.id }}">... Read More >></a></p>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
        <div style="width:auto; height:100%; text-align:center">
        <a href="/maintimeline/{{ event.id }}"><img height="80%" width="auto" src="https://barbaradonnini.com/homosexualitytimeline/{{ event.image_url|default_if_none:'#' }}" /></a>
      </div>
    </div>
        </div>
        {% if forloop.counter|divisibleby:2 %}
        </div>
        <div class="carousel-item iteminfinite vertical-center">
<div class="fixed">
<div class="v1infinite"></div>
<div class="v2infinite"></div>
</div>
           {% endif %}
      {% endfor %}
      </div>

    </div>


    <!-- Left and right controls -->
    <!--<a class="left carousel-control" href="#myCarousel" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right"></span>
      <span class="sr-only">Next</span>
    </a>-->
  </div>


<!-- these are the lines for the timeline -->

<!-- FOR LOOP FOR ACTUAL DATA -->
<!--   {% for event in object_list %}
    <div class="event" style="height:50vh">
        <h1>{{ event.headline }}</h1>
        <p>{{ event.date }}</p>
</div>
    {# if the the forloop counter is divisible by 4, close the <li> tag and open a new one #}
    {% if forloop.counter|divisibleby:2 %}
</div>
</div>

          <div class="item">
          	<div class="carousel-content">

    {% endif %}

    {% endfor %}

</div>

<div class="row">
<h1>Text</h1>
<h2>Text</h2>
<h3>Text</h3>
<h4>Text</h4>
<h5>Text</h5>
<h6>Text</h6>
<date>Text</date>
<p>Text</p>

</div>-->
</div>
<script>
$(document).ready(function() {
  var showChar = 100;
  var moretext = "more";
  $('.more').each(function() {
    var content = $(this).html();

    if(content.length > showChar) {

      var c = content.substr(0, showChar);
      var h = content.substr(showChar-1, content.length - showChar);

      var html = c + '<span class="moreelipses">'+ellipsestext+'</span>&nbsp;<span class="morecontent"><span>' + h + '</span>&nbsp;&nbsp;<a href="/maintimeline/{{ event.id }}" class="morelink">'+moretext+'</a></span>';

      $(this).html(html);
    }

  });

});
</script>


{% endblock %}